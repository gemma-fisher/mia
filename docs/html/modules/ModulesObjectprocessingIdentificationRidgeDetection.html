---
layout: default
---

<head>
    <link rel="stylesheet" href="../../css/index.css">
</head>

<body>
<!-- Side navigation -->
<div class="sidenav">
    <a href="../../index.html" class="nav1">Introduction</a>
    <a href="../gettingstarted.html" class="nav1">Getting started</a>
    <a href="../modulelist.html" class="nav1">Modules</a>
    <a href="../macrolist.html" class="nav1">Macros</a>
    <!-- <a href="../extendingmia.html" class="nav1">Extending MIA</a> -->
</div>

<!-- Page content -->
<div class="main">
    <!--The following is replaced automatically by the generated module list-->
    <a href="../modulelist.html">Back to module list</a>
<h1>Ridge detection</h1>
<h2>Description</h2>
Detects ridge objects in an image from the workspace.  A ridge is considered as a line of higher (or lower) intensity pixels in an image.  Ridges are output as objects to the workspace with relevant measurements associated with each object (e.g. ridge length).  This module uses the "<a href="https://imagej.net/Ridge_Detection">Ridge Detection</a>" plugin, which itself is based on the paper "An Unbiased Detector of Curvilinear Structures" (Steger, C., <i>IEEE Transactions on Pattern Analysis and Machine Intelligence</i> (1998) <b>20</b> 113â€“125).<br><br>Note: This module detects ridges in 2D, but can be run on multi-dimensional images.  For higher dimensionality images than 2D, ridge detection is performed slice-by-slice, with output objects confined to a single slice.
<h2>Parameters</h2>
<ul><li><b>Input image</b> (default = "") Image from the workspace on which ridges will be identified.  This can be a multi-dimensional image, although ridges are currently only detected in 2D.  In the case of higher-dimensionality images, ridges are detected on a slice-by-slice basis.</li><br><li><b>Output objects</b> (default = "") Output ridge objects, which will be added to the workspace.  These objects will have measurements associated with them.</li><br><li><b>Contour contrast</b> (default = "Dark line") Controls if we are detecting dark lines on a lighter background or light lines on a darker background.</li><br><li><b>Lower threshold</b> (default = "0.5") Lower response threshold for points on a line to be accepted.  This threshold is based on the value of points after the ridge enhancement filtering and is not a reflection of their absolute pixel intensities.</li><br><li><b>Upper threshold</b> (default = "0.85") Upper response threshold for points on a line to be accepted.  This threshold is based on the value of points after the ridge enhancement filtering and is not a reflection of their absolute pixel intensities.</li><br><li><b>Sigma</b> (default = "3.0") Sigma of the derivatives to be applied to the input image when detecting ridges.  This is related to the width of the lines to be detected and is greater than or equal to "width/(2*sqrt(3))".</li><br><li><b>Calibrated units</b> (default = "false") When selected, spatial values are assumed to be specified in calibrated units (as defined by the "Input control" parameter "Spatial unit").  Otherwise, pixel units are assumed.</li><br><li><b>Extend line</b> (default = "false") Lines are extended in an attempt to locate more junction points.</li><br><li><b>Estimate width</b> (default = "false") When this is selected, the width of each line is estimated.  All points within the width extents of each line are included in the output objects (i.e. output objects are broad).  When not selected, the output objects have single pixel width.  If estimating width, width-based measurements will be associated with each output object.</li><br><li><b>Overlap mode</b> (default = "None") Controls how intersecting lines should be handled.  For more information see <a href="https://imagej.net/Ridge_Detection.html#Overlap_resolution"/>.<br><ul><li>"None" Ridges are terminated at line intersections, so two overlapping ridges will likely be identified as at least four separate ridge objects.</li><li>"Slope" When selected, this will attempt to resolve ridge overlaps such that two overlapping ridges would be identified as two separate objects.  Ridges output in this manner can have common, shared paths (i.e. during the overlap region).</li></ul></li><br><li><b>Minimum length</b> (default = "0.0") Minimum length of a detected line for it to be retained and output.  Specified in pixel units, unless "Calibrated units" is selected.</li><br><li><b>Maximum length</b> (default = "0.0") Maximum length of a detected line for it to be retained and output.  Specified in pixel units, unless "Calibrated units" is selected.</li><br><li><b>Link contours</b> (default = "false") When selected, ridges with ends in close proximity will be linked into a single object.</li><br><li><b>Limit end misalignment</b> (default = "false") When selected (and "Link contours" is also enabled), this limits the permitted difference in the orientation of any linked ends.  This filter helps allow ridge linking where the ends are pointing in the same direction, whilst excluding those that are oriented very differently (e.g. at a junction).  The maximum allowed orientation difference is specified by "Maximum end misalignment (degs)".</li><br><li><b>Alignment range (px)</b> (default = "3") If linking contours, but limiting the end misalignment, this is the number of points from each contour end for which the orientation of that end is calculated.</li><br><li><b>Maximum end misalignment (degs)</b> (default = "10.0") If linking contours, but limiting the end misalignment, this is the maximum permitted misalignment of each contour end.</li><br></ul>

</div>
</body>