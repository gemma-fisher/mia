---
layout: default
---

<head>
    <link rel="stylesheet" href="../../css/index.css">
</head>

<body>
<!-- Side navigation -->
<div class="sidenav">
    <a href="../../index.html" class="nav1">Introduction</a>
    <a href="../gettingstarted.html" class="nav1">Getting started</a>
    <a href="../modulelist.html" class="nav1">Modules</a>
    <a href="../macrolist.html" class="nav1">Macros</a>
    <!-- <a href="../extendingmia.html" class="nav1">Extending MIA</a> -->
</div>

<!-- Page content -->
<div class="main">
    <!--The following is replaced automatically by the generated module list-->
    <a href="../modulelist.html">Back to module list</a>
<h1>Add overlay</h1>
<h2>Description</h2>
DEPRECATED - Please use individual overlay modules (e.g. "Add labels", "Add object outline", etc.).<br><br>Adds an overlay to the specified input image which can represent each specified input object.  This module can render many different types of overlay; options include: All points, Arrows, Centroid, Label only, Outline, Position measurements, Tracks
<h2>Parameters</h2>
<ul><li><b>Input image</b> (default = "") Image onto which overlay will be rendered.  Input image will only be updated if "Apply to input image" is enabled, otherwise the image containing the overlay will be stored as a new image with name specified by "Output image".</li><br><li><b>Input objects</b> (default = "") Objects to represent as overlays.</li><br><li><b>Apply to input image</b> (default = "false") Determines if the modifications made to the input image (added overlay elements) will be applied to that image or directed to a new image.  When selected, the input image will be updated.</li><br><li><b>Add output image to workspace</b> (default = "false") If the modifications (overlay) aren't being applied directly to the input image, this control will determine if a separate image containing the overlay should be saved to the workspace.</li><br><li><b>Output image</b> (default = "") The name of the new image to be saved to the workspace (if not applying the changes directly to the input image).</li><br><li><b>Label mode</b> (default = "ID") Controls what information each label displays:<br><ul><li>"ID" The ID number of the object.</li><li>"Measurement value" A measurement associated with the object.  The measurement is selected using the "Measurement for label" parameter.</li><li>"Parent ID" The ID number of a parent of the object.  The parent object is selected using the "Parent object for label" parameter.</li><li>"Parent measurement value" A measurement associated with a parent of the object.  The measurement is selected using the "Measurement for label" parameter and the parent object with the "Parent object for label" parameter.</li></ul></li><br><li><b>Decimal places</b> (default = "0") Number of decimal places to use when displaying numeric values.</li><br><li><b>Use scientific notation</b> (default = "false") When enabled, numeric values will be displayed in the format <i>1.23E-3</i>.  Otherwise, the same value would appear as <i>0.00123</i>.</li><br><li><b>Label size</b> (default = "8") Font size of the text label.</li><br><li><b>Parent object for label</b> (default = "") If "Label mode" is set to either "Parent ID" or "Parent measurement value", these are the parent objects which will be used.  These objects will be parents of the input objects.</li><br><li><b>Measurement for label</b> (default = "") If "Label mode" is set to either "Measurement value" or "Parent measurement value", these are the measurements which will be used.</li><br><li><b>Position mode</b> (default = "Centroid") Controls the sort of overlay to be rendered:<br><ul><li>"All points" All points in each object are rendered as small circles.</li><li>"Arrows" Each object is represented by an arrow.  The size, colour and orientation of each arrow can be fixed or based on a measurement value..</li><li>"Centroid" Each object is represented by a single small circle positioned at the centre of the object (mean XYZ location).</li><li>"Label only" Displays a text string at the centroid location of each object.  Text can include object ID numbers, measurements or similar values for parent objects.</li><li>"Outline" Each object is represented by an outline.</li><li>"Position measurements" Each object is represented by a single circle positioned at the XYZ location specified by three position measurements.</li><li>"Tracks" The trajectory of a track (time-linked objects) is rendered for all track objects.  The line passes between the centre of each timepoint instance of that track and appears as the object moves )(i.e. it only shows the trajectory from previous frames).</li></ul></li><br><li><b>Arrow orientation mode</b> (default = "Measurement") Source for arrow orientation values:<br><ul><li>"Measurement" Orientation of arrows will be based on the measurement specified by the parameter "Measurement for orientation" for each object.</li><li>"Parent measurement" Orientation of arrows will be based on the measurement specified by the parameter "Measurement for orientation" taken from a parent of each object.  The parent object providing this measurement is specified by the parameter "Parent object for orientation".</li></ul></li><br><li><b>Parent object for orientation</b> (default = "") Parent objects providing the measurements on which the orientation of the arrows are based.</li><br><li><b>Measurement for orientation</b> (default = "") Measurement that defines the orientation of each arrow.  Measurements should be supplied in degree units.</li><br><li><b>Arrow length mode</b> (default = "Measurement") Method for determining the length of arrows:<br><ul><li>"Fixed value" All arrows are the same length.  Length is controlled by the "Length value (px)" parameter.</li><li>"Measurement" Arrow length is proportional to the measurement value specified by the "Measurement for length" parameter.  Absolute arrow lengths are adjusted by the "Arrow length scale" multiplication factor.</li><li>"Parent measurement" Arrow length is proportional to a parent object measurement value.  The parent is specified by the "Parent object for length" parameter and the measurement value by "Measurement for length".  Absolute arrow lengths are adjusted by the "Arrow length scale" multiplication factor.</li></ul></li><br><li><b>Length value (px)</b> (default = "5.0") Fixed value specifying the length of all arrows in pixel units.</li><br><li><b>Parent object for length</b> (default = "") Parent objects from which the arrow length measurements will be taken.</li><br><li><b>Measurement for length</b> (default = "") Measurement value that will be used to control the arrow length.  This value is adjusted using the "Arrow length scale" muliplication factor.</li><br><li><b>Arrow length scale</b> (default = "1.0") Measurement values will be multiplied by this value prior to being used to control the arrow length.  Each arrow will be <i>MeasurementValue*LengthScale</i> pixels long.</li><br><li><b>Head size</b> (default = "3") Size of the arrow head.  This should be an integer between 0 and 30, where 0 is the smallest possible head and 30 is the largest.</li><br><li><b>X-position measurement</b> (default = "") Object measurement specifying the X-position of the overlay marker.  Measurement value must be specified in pixel units.</li><br><li><b>Y-position measurement</b> (default = "") Object measurement specifying the Y-position of the overlay marker.  Measurement value must be specified in pixel units.</li><br><li><b>Z-position measurement</b> (default = "") Object measurement specifying the Z-position (slice) of the overlay marker.  Measurement value must be specified in slice units.</li><br><li><b>Use radius measurement</b> (default = "true") When selected, the radius of the overlay marker circle is controlled by the measurement specified by "Measurement for radius".  When not selected, point is represented by a single spot of fixed size.</li><br><li><b>Measurement for radius</b> (default = "") Object measurement use to specify the radius of the overlay marker circle.  Measurement value must be specified in pixel units.</li><br><li><b>Colour mode</b> (default = "Single colour") Method for determining colour of each object's corresponding overlay:<br><ul><li>"ID" Overlay colour is quasi-randomly selected based on the ID number of the object.  The colour used for a specific ID number will always be the same and is calculated using the equation <i>hue = (ID * 1048576 % 255) / 255</i>.</li><li>"Measurement value" Overlay colour is determined by a measurement value.  Colour range runs across the first half of the visible spectrum (i.e. red to cyan) and is maximised, so the object with the smallest measurement is shown in red and the object with the largest, in cyan.  Objects missing the relevant measurement  are always shown in red.  The measurement value is selected with the "Measurement for colour" parameter.</li><li>"Parent ID" Overlay colour is quasi-randomly selected based on the ID number of a parent of this object.  The colour used for a specific ID number will always be the same and is calculated using the equation <i>hue = (ID * 1048576 % 255) / 255</i>.  The parent object is selected with the "Parent object for colour" parameter.</li><li>"Parent measurement value" Overlay colour is determined by a measurement value of a parent of this object.  Colour range runs across the first half of the visible spectrum (i.e. red to cyan) and is maximised, so the object with the smallest measurement is shown in red and the object with the largest, in cyan.  Objects either missing the relevant measurement or without the relevant parent are always shown in red.  The parent object is selected with the "Parent object for colour" parameter and the measurement value is selected with the "Measurement for colour" parameter.</li><li>"Random colour" Overlay colour is randomly selected for each object.  Unlike the "ID" option, the colours generated here will be different for each evaluation of the module.</li><li>"Single colour" (default option) Overlay colour is fixed to one of a predetermined list of colours.  All objects  will be assigned the same overlay colour.  The colour is chosen using the "Single colour" parameter.</li></ul></li><br><li><b>Single colour</b> (default = "White") Colour for all object overlays to be rendered using.  This parameter is used if "Colour mode" is set to "Single colour".  Choices are: White, Black, Red, Orange, Yellow, Green, Cyan, Blue, Violet, Magenta.</li><br><li><b>Measurement for colour</b> (default = "") Measurement used to determine the colour of the overlay when "Colour mode" is set to either "Measurement value" or "Parent measurement value".</li><br><li><b>Parent object for colour</b> (default = "") Object collection used to determine the colour of the overlay based on either the ID or measurement value  of a parent object when "Colour mode" is set to either  "Parent ID" or "Parent measurement value".  These objects will be parents of the input objects.</li><br><li><b>Spot objects</b> (default = "") Objects present in each frame of this track.  These are children of the "Input objects" and provide the coordinate information for each frame.</li><br><li><b>Limit track history</b> (default = "false") When enabled, segments of a track will only be displayed for a finite number of frames after the timepoint they correspond to.  This gives the effect of a moving tail behind the object and can be use to prevent the overlay image becoming too cluttered for long/dense videos.  The duration of the track history is specified by the "Track history (frames)" parameter.</li><br><li><b>Track history (frames)</b> (default = "10") Number of frames a track segment will be displayed for after the timepoint to which it corresponds.</li><br><li><b>Line width</b> (default = "0.2") Width of the rendered lines.  Specified in pixel units.</li><br><li><b>Render in all frames</b> (default = "false") Display the overlay elements in all frames (time axis) of the input image stack, irrespective of whether the object was present in that frame.</li><br><li><b>Enable multithreading</b> (default = "true") Process multiple overlay elements simultaneously.  This can provide a speed improvement when working on a computer with a multi-core CPU.</li><br></ul>

</div>
</body>