---
layout: default
---

<head>
    <link rel="stylesheet" href="../../css/index.css">
</head>

<body>
<!-- Side navigation -->
<div class="sidenav">
    <a href="../../index.html" class="nav1">Introduction</a>
    <a href="../gettingstarted.html" class="nav1">Getting started</a>
    <a href="../modulelist.html" class="nav1">Modules</a>
    <a href="../macrolist.html" class="nav1">Macros</a>
    <!-- <a href="../extendingmia.html" class="nav1">Extending MIA</a> -->
</div>

<!-- Page content -->
<div class="main">
    <!--The following is replaced automatically by the generated module list-->
    <a href="../modulelist.html">Back to module list</a>
<h1>Extract metadata</h1>
<h2>Description</h2>
Metadata values can be extracted from a variety of sources and assigned to the current workspace.  These metadata values can subsequently be accessed in the form M{[NAME]}, where [NAME] is the metadata name.  Some common file and foldername formats are included as pre-defined metadata extraction methods, while other forms can be constructed using regular expressions.
<h2>Parameters</h2>
<ul><li><b>Extractor mode</b> (default = "Filename") Data source for metadata extraction:<br><ul><li>"Filename" Metadata taken from filename (not including folder path)</li><li>"Foldername" Metadata taken from parent foldername (incuding full system path to that folder)</li><li>"Metadata file" Metadata taken from a separate file, specified by the "Metadata file" parameter</li><li>"Series name" Metadata taken from seriesname (if not from a multi-series file, this is just the filename)</li></ul></li><br><li><b>Filename extractor</b> (default = "Generic") The format of the filename to be converted to metadata values:<br><ul><li>"Generic" Name format is compiled using regular expressions defined in the "Pattern" parameter.  Each group (pattern enclosed in parenthesis) specified in the pattern is assigned to a metadata value.  Metadata value names are defined by the comma-separated list defined in "Groups (comma separated)".</li><li>"CV1000 filename" The Yokogawa CellVoyager CV1000 format (e.g. W1F001T0001Z00C1.tif)</li><li>"CV7000 filename" The Yokogawa CellVoyager CV7000 format (e.g. AssayPlate_Greiner_#655090_C02_T0001F001L01A01Z01C01.tif)</li><li>"IncuCyte long filename" The Incucyte long format, where each timepoint is stored as a separate image file and accordingly the filename records the time of acquisition (e.g. MySample1_A1_1_2021y08m06d_11h39m.tif)</li><li>"IncuCyte short filename" The Incucyte short format, where all timepoints are stored in a single file and the filename only records the well and field (e.g. MySample1_A1_1.tif)</li><li>"Opera filename" The Perkin Elmer Opera LX name format, which specifies row, column and field (e.g. 001001001.flex)</li></ul></li><br><li><b>Foldername extractor</b> (default = "Generic") The format of the foldername to be converted to metadata values:<br><ul><li>"<li>"Generic" Name format is compiled using regular expressions defined in the "Pattern" parameter.  Each group (pattern enclosed in parenthesis) specified in the pattern is assigned to a metadata value.  Metadata value names are defined by the comma-separated list defined in "Groups (comma separated)".</li><li>"CV1000 foldername" The Yokogawa CV1000 format (e.g. 20210806T113905_10x_K01_MySample1)</li><li>"Opera measurement foldername" The Perkin Elmer Opera LX foldername format (e.g. Meas_01(2021-08-06_11-39-05))</li></ul></li><br><li><b>Metadata file extractor</b> (default = "CSV file") The format of the metadata file to be converted to metadata values:<br><ul><li>"CSV file" Metadata values stored in a two-column CSV file, where the first column defines an identifier to the current file being processed (e.g. filename, or series name) and the second column defines a value that will be assigned as metadata.  Optionally, this value can be split into multiple metadata values using a regular expression.</li><li>"Opera file (.flex)" Specifically extracts the "Area name" property from the current .flex file.</li></ul></li><br><li><b>Input source</b> (default = "File in input folder") If extracting metadata from a CSV file, this controls whether a single, static CSV file is used or whether there is one provided (with a fixed name) in the current folder (i.e where the current image file is loaded from).</li><br><li><b>Metadata file</b> (default = "") If extracting metadata from a static CSV file (i.e. the same file for all processed images), this is the path to that metadata CSV file.</li><br><li><b>Metadata file name</b> (default = "") If extracting metadata from a dynamic CSV file (i.e. the file is in the current image folder), this is the name of that metadata CSV file (it must be the same name in all folders).</li><br><li><b>Metadata item to match</b> (default = "") For CSV-based metadata extraction, the first column of the CSV file identifies which row to read.  This parameter defines the source (e.g. filename, series name, etc.).  Choices are: File in input folder,Static file</li><br><li><b>Pattern</b> (default = "") Regular expression pattern to use when interpreting generic metadata formats.  This pattern must contain at least one group (specified using standard regex parenthesis notation).</li><br><li><b>Groups (comma separated)</b> (default = "") When interpreting generic metadata formats, these group names will be assigned to each group matched using regular expressions.  The metadata values will subsequently be accessed via these names in the form M{[NAME]}, where [NAME] is the group name.</li><br><li><b>Show pattern matching test</b> (default = "false") When selected (and constructing a regular expression extractor), an example string can be provided and the identified groups displayed.  This allows for regular expression forms to be tested during workflow assembly.</li><br><li><b>Example string</b> (default = "") If testing a regular expression form ("Show pattern matching test" selected), this is the example string which will be processed and broken down into its individual metadata values.</li><br><li><b>Identified groups</b> (default = "") If testing a regular expression form ("Show pattern matching test" selected), the extracted metadata values will be displayed here.</li><br><li><b>Split using regular expressions</b> (default = "false") When selected, the metadata value taken from a CSV file will itself be broken down into multiple metadata values using a regular expressions</li><br><li><b>Metadata value name</b> (default = "") If a metadata value loaded from CSV is not to be sub-divided into multiple metadata values, the entire value loaded will be stored as a metadata item with this name.</li><br></ul>

</div>
</body>