---
layout: default
---

<head>
    <link rel="stylesheet" href="../../css/index.css">
</head>

<body>
<!-- Side navigation -->
<div class="sidenav">
    <a href="../../index.html" class="nav1">Introduction</a>
    <a href="../gettingstarted.html" class="nav1">Getting started</a>
    <a href="../modulelist.html" class="nav1">Modules</a>
    <a href="../macrolist.html" class="nav1">Macros</a>
    <!-- <a href="../extendingmia.html" class="nav1">Extending MIA</a> -->
</div>

<!-- Page content -->
<div class="main">
    <!--The following is replaced automatically by the generated module list-->
    <a href="../modulelist.html">Back to module list</a>
<h1>Fit Gaussian 2D</h1>
<h2>Description</h2>
Gaussian spot fitting.  Can take objects as estimated locations.
***Only works in 2D***
***Only works for refinement of existing spots***
<h2>Parameters</h2>
<ul><li><b>Input image</b> (default = "") Image from the workspace to which the 2D Gaussian profiles will be fit.</li><br><li><b>Input objects</b> (default = "") Objects for which 2D Gaussians will be fit.  A single Gaussian will be calculated for each object, with the centroid of the input object used as the starting estimate for the Gaussian centroid.  Fit parameters will be stored as measurements associated with the relevant input objects.</li><br><li><b>Method to estimate sigma</b> (default = "Fixed value") Controls how the initial estimate of Gaussian sigma will be calculated.  Note: The initial radius value can also influence the range of accepted sigma values (see "Limit sigma range" parameter).<br><ul><li>"Fixed value" The same initial sigma value is applied to the fitting of all objects.  This value is provided by the "Sigma" parameter.</li><li>"Measurement" A different sigma value is applied to the fitting of each object.  This value is provided by the measurement (specified by "Sigma measurement") associated with the object being fit.</li></ul></li><br><li><b>Sigma</b> (default = "1.0") If "Method to estimate sigma" is set to "Fixed value", this is the initial sigma value that will be used in the fitting of all objects.</li><br><li><b>Sigma measurement</b> (default = "") If "Method to estimate sigma" is set to "Measurement", this is the measurement that will provide the intial sigma value used in the fitting of each object.</li><br><li><b>Measurement multiplier</b> (default = "1.0") If using object-associated measurements as the intial estimate of sigma, these measurements can be systematically increased or decreased with this multiplier.  Values less than 1 will reduce the sigma estimate, while values greater than 1 will increase it.  To use the default sigma value, set this to 1.</li><br><li><b>Limit sigma range</b> (default = "true") When selected, the final sigma value must lie within a specific range.  This range is controlled by the "Minimum sigma (multiplier)" and "Maximum sigma (multiplier)" parameters.</li><br><li><b>Minimum sigma (multiplier)</b> (default = "0.25") If limiting the final sigma range ("Limit sigma range" parameter selected), this value controls the minimum allowed sigma value.  The minimum range is specified as a multiplier of the input sigma estimate.  For example, an estimate sigma value of 4 with a "Minimum sigma (multiplier)" multiplier of 0.5 forces the predicted sigma to have a value of at least 2.  Variable sigma ranges allow measurement-based sigma estimates to have appropriate limits.</li><br><li><b>Maximum sigma (multiplier)</b> (default = "4.0") If limiting the final sigma range ("Limit sigma range" parameter selected), this value controls the maximum allowed sigma value.  The maximum range is specified as a multiplier of the input sigma estimate.  For example, an estimate sigma value of 4 with a "Maximum sigma (multiplier)" multiplier of 3 forces the predicted sigma to have a value of at most 12.  Variable sigma ranges allow measurement-based sigma estimates to have appropriate limits.</li><br><li><b>Fixed fitting window</b> (default = "false") When selected, the size of the cropped image region, to which the 2D Gaussian is fit, is controlled by the "Window size" parameter.  Otherwise, the window size is automatically selected as 4 times the initial estimate of sigma, plus 1.</li><br><li><b>Window size</b> (default = "15") If using a fixed fitting window ("Fixed fitting window" parameter selected), this is the size of the image crop (centered on the object being fit) that will be used.</li><br><li><b>Maximum number of evaluations</b> (default = "1000") The maximum number of iterations the fitting algorithm can use.</li><br><li><b>Remove objects with failed fitting</b> (default = "false") If selected, any objects for which fits can't be determined (fitter runs out of evaluations before completing) will be removed from the input object set.</li><br><li><b>Apply volume</b> (default = "true") If selected, the coordinates of the input objects will be updated to be circles.  The output circles will be centred on the best-fit location and have radii equal to the x-axis sigma value.</li><br><li><b>Create Gaussian image</b> (default = "false") If selected, an image containing all calculated Gaussian fits will be added to the workspace.</li><br><li><b>Gaussian image name</b> (default = "") If "Create Gaussian image" is selected, this is the name of the output Gaussian profile image that will be added to the workspace.</li><br></ul>

</div>
</body>