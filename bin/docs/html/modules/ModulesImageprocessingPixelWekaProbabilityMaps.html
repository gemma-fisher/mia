---
layout: default
---

<head>
    <link rel="stylesheet" href="../../css/index.css">
</head>

<body>
<!-- Side navigation -->
<div class="sidenav">
    <a href="../../index.html" class="nav1">Introduction</a>
    <a href="../gettingstarted.html" class="nav1">Getting started</a>
    <a href="../modulelist.html" class="nav1">Modules</a>
    <a href="../macrolist.html" class="nav1">Macros</a>
    <!-- <a href="../extendingmia.html" class="nav1">Extending MIA</a> -->
</div>

<!-- Page content -->
<div class="main">
    <!--The following is replaced automatically by the generated module list-->
    <a href="../modulelist.html">Back to module list</a>
<h1>Weka probability maps</h1>
<h2>Description</h2>
Performs pixel classification using the WEKA Trainable Segmentation plugin.<br><br>This module loads a previously-saved WEKA classifier model and applies it to the input image.  It then returns the multi-channel probability map.<br><br>Image stacks are processed in 2D, one slice at a time.
<h2>Parameters</h2>
<ul><li><b>Input image</b> (default = "") Image to apply pixel classification to.</li><br><li><b>Convert to RGB</b> (default = "false") Converts a composite image to RGB format.  This should be set to match the image-type used for generation of the model.</li><br><li><b>Output image</b> (default = "") Output probability map image.</li><br><li><b>Output bit depth</b> (default = "32") By default images will be saved as floating point 32-bit (probabilities in the range 0-1); however, they can be converted to 8-bit (probabilities in the range 0-255) or 16-bit (probabilities in the range 0-65535).  This is useful for saving memory or if the output probability map will be passed to image threshold module.</li><br><li><b>Output single class</b> (default = "false") Allows a single class (image channel) to be output.  This is another feature for reducing memory usage.</li><br><li><b>Output class</b> (default = "1") Class (image channel) to be output.  Channel numbering starts at 1.</li><br><li><b>Path type</b> (default = "Specific file") Method to use for generation of the classifier filename:<br><ul><li>"Matching format" Will generate a name from metadata values stored in the current workspace.  This is useful if the classifier varies from input file to input file.</li><li>"Specific file" Will load the classifier file at a specific location.  This is useful if the same file is to be used for all input files.</li></ul></li><br><li><b>Generic format</b> (default = "") Format for a generic filename.  Plain text can be mixed with global variables or metadata values currently stored in the workspace.  Global variables are specified using the "V{name}" notation, where "name" is the name of the variable to insert.  Similarly, metadata values are specified with the "M{name}" notation.</li><br><li><b>Available metadata fields</b> (default = "") List of the currently-available metadata values for this workspace.  These can be used when compiling a generic filename.</li><br><li><b>Classifier file path</b> (default = "") Path to the classifier file (.model extension).  This file needs to be created manually using the WEKA Trainable Segmentation plugin included with Fiji.</li><br><li><b>Simultaneous slices</b> (default = "1") Number of image slices to process at any given time.  This reduces the memory footprint of the module, but can slow down processing.</li><br><li><b>Tile factor</b> (default = "1") Number of tiles per dimension each image will be subdivided into for processing.  For example, a tile factor of 2 will divide the image into a 2x2 grid of tiles.  This reduces the memory footprint of the module.</li><br></ul>

</div>
</body>